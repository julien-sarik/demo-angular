_format_version: "3.0"

services:
- name: rest-api
  url: http://localhost:3000
  plugins:
  - name: jwt
  routes:
  - name: my-route
    paths:
    - /

# to remove once using BFF
plugins:
- name: cors
  service: rest-api
  config:
    origins:
    - '*'

consumers:
- username: spa

jwt_secrets:
- consumer: spa
  # used by the jwt Kong plugin to validate the issuer claim
  key: http://localhost:9080/realms/master
  algorithm: RS256
  rsa_public_key: |
    -----BEGIN PUBLIC KEY-----
    MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAwx1ZBqAXyy0OdGIYG3Z0
    WY4rWutzIG8AfTIxP0EwTPDMFZjh/GlP1xI2JfJxy3aKa74oeYtaWgJohlMn+hCy
    RKu02hGHPW4vjwB4nmRXd+GOYbW7SKzw81FTYje2GwcLLGruMfmCsiufq8G1jmzQ
    rz5Ojg4faDKDXh85QjnlzuTpDjLqCl0DoZkHLQ73ecLBPzf1zlQ3W1HifQ1529QI
    iiBqhabTjLMk6SNF2b3FBb9cl6Uvf4f3ZOOnoJNhnuY23amDpFm6iuzaAIT5TdSK
    WGSjnwbboVPSAqtnIk+SfteUf4OSx2ijgra9UUDH2A0O2c1T01DUUEPpc/MuBTO3
    dQIDAQAB
    -----END PUBLIC KEY-----
